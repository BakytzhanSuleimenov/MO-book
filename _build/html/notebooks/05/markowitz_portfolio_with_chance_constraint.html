
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Portfolio optimization with chance constraint &#8212; Companion Notebooks for Data-Driven Mathematical Optimization in Python</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Refinery Production and Shadow Pricing" href="refinery-production.html" />
    <link rel="prev" title="Ordinary Least Squares (OLS) Regression" href="ols-regression.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-DVQ7NZ8CYZ"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-DVQ7NZ8CYZ');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo-02.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Companion Notebooks for Data-Driven Mathematical Optimization in Python</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Data-Driven Mathematical Optimization in Python
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../01/01.00.html">
   1. Mathematical Optimization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01/alice-rose.html">
     Alice’s Rose
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01/Pop-Up-Shop.html">
     Scenario Analysis: Pop Up Shop
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02/02.00.html">
   2. Linear Optimization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/lad-regression.html">
     Least Absolute Deviation (LAD) Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/lad-regression-wine-quality.html">
     Predicting Wine Quality
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/making-the-best-of-the-worst.html">
     Making the Best of the Worst
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/mad-portfolio-optimization.html">
     MAD Portfolio Optimization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/fractional-bim.html">
     Fractional BIM
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/large-example-chapter-2.html">
     Caroline’s raw material planning
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03/03.00.html">
   3. Mixed Integer Linear Programming
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/cryptarithms.html">
     Cryptarithms: Send More Money
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/strip-packing.html">
     Strip Packing: Placing Boxes on a Shelf
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/simple-production-model-gdp.html">
     Production Model with Disjuncts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/recharging-electric-vehicle.html">
     Recharging Strategy for an Electric Vehicle
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/Shift-Scheduling.html">
     Shift Scheduling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/machine-scheduling.html">
     Machine Scheduling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/job-shop-scheduling.html">
     Job Shop Scheduling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/maintenance-planning.html">
     Maintenance Planning
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/large-example-chapter-3.html">
     BIM Production
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../04/04.00.html">
   4. Network Optimization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/dina-tables-and-variations.html">
     Dina’s table seating arrangements
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/Transportation.html">
     Transportation and Allocation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/forex-arbitrage.html">
     Forex Arbitrage
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/cryptocurrency-arbitrage.html">
     Crypto Currency Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/shortest-path-road-networks.html">
     Computing a real life shortest path
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/complete-example-ch4-power-network.html">
     Energy dispatch problem
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="05.00.html">
   5. Convex Optimization
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="milk-pooling.html">
     Pooling and Blending
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ols-regression.html">
     Ordinary Least Squares (OLS) Regression
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Portfolio optimization with chance constraint
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="refinery-production.html">
     Refinery Production and Shadow Pricing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="svm-linear.html">
     Support Vector Machines for Binary Classifcation
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../06/06.00.html">
   6. Conic Optimization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../06/economic-order-quantity.html">
     Economic Order Quantity
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../07/07.00.html">
   7. Accounting for Uncertainty: Optimization Meets Reality
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../07/Caroline-robustness-analysis.html">
     Caroline on robust steroids
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../08/08.00.html">
   8. Robust Optimization - Single Stage Problems
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../08/ef-robust-optimization.html">
     Companion notebook to EF’s training on optimization with data uncertainty
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../09/09.00.html">
   9. Stochastic Optimization - Single Stage Problems
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../09/newsvendor.html">
     Stock optimization for seafood distribution center
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../10/10.00.html">
   10. Two Stage Problems
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../10/airline-seating.html">
     Airline seat allocation problem
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../10/farmer.html">
     Farmer’s problem and some of its variants
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../10/stochastic-farmer.html">
     Stochastic Programming
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../pyomo_style_guide.html">
   Pyomo Style Guide
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/jckantor/MO-book/main?urlpath=tree/notebooks/05/markowitz_portfolio_with_chance_constraint.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://colab.research.google.com/github/jckantor/MO-book/blob/main/notebooks/05/markowitz_portfolio_with_chance_constraint.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Colab"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_colab.png">
  </span>
<span class="headerbtn__text-container">Colab</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/notebooks/05/markowitz_portfolio_with_chance_constraint.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Portfolio optimization with chance constraint
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercise-2-portfolio-selection-with-cardinality-constrained-uncertainty-set">
   Exercise 2: Portfolio selection with cardinality-constrained uncertainty set
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Portfolio optimization with chance constraint</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Portfolio optimization with chance constraint
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercise-2-portfolio-selection-with-cardinality-constrained-uncertainty-set">
   Exercise 2: Portfolio selection with cardinality-constrained uncertainty set
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="portfolio-optimization-with-chance-constraint">
<h1>Portfolio optimization with chance constraint<a class="headerlink" href="#portfolio-optimization-with-chance-constraint" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># install Pyomo and solvers</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">types</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/jckantor/MO-book/main/python/helper.py&quot;</span>
<span class="n">helper</span> <span class="o">=</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">(</span><span class="s2">&quot;helper&quot;</span><span class="p">)</span>
<span class="n">exec</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="n">helper</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>

<span class="n">helper</span><span class="o">.</span><span class="n">install_pyomo</span><span class="p">()</span>
<span class="n">helper</span><span class="o">.</span><span class="n">install_cbc</span><span class="p">()</span>
<span class="n">helper</span><span class="o">.</span><span class="n">install_cplex</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pyomo was previously installed
cbc was previously installed
cplex was previously installed
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Markdown</span><span class="p">,</span> <span class="n">HTML</span>
<span class="kn">import</span> <span class="nn">pyomo.environ</span> <span class="k">as</span> <span class="nn">pyo</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">time</span> 
<span class="kn">import</span> <span class="nn">math</span>
</pre></div>
</div>
</div>
</div>
<p>Consider the following canonical stochastic optimization problem, the so-called <em>portfolio selection problem</em>. Assuming there is an initial unit capital <span class="math notranslate nohighlight">\(C=1\)</span> that needs to be invested in a selection of <span class="math notranslate nohighlight">\(n\)</span> possible assets, each of them with a unknown return rate <span class="math notranslate nohighlight">\(z_i\)</span>, <span class="math notranslate nohighlight">\(i=1,\dots,n\)</span>. Let <span class="math notranslate nohighlight">\(x\)</span> be the vector whose <span class="math notranslate nohighlight">\(i\)</span>-th component <span class="math notranslate nohighlight">\(x_i\)</span> describes the fraction of the capital invested in asset <span class="math notranslate nohighlight">\(i\)</span>. The return rate vector <span class="math notranslate nohighlight">\(z\)</span> can be modelled by a multivariate Gaussian distribution with mean <span class="math notranslate nohighlight">\(\bar{z}\)</span> and covariance <span class="math notranslate nohighlight">\(\Sigma\)</span>.</p>
<p>Assuming to know the return rates, the portfolio return would be then equal to:</p>
<div class="math notranslate nohighlight">
\[
    z^\top x = \sum_{i=1}^n x_i z_i.
\]</div>
<p>We want to determine the portfolio that maximizes the <em>expected</em> return <span class="math notranslate nohighlight">\(\mathbb{E} ( z^\top x )\)</span>, which in view of our assumptions rewrites as <span class="math notranslate nohighlight">\( \mathbb{E} ( z^\top x ) = \bar{z}^\top x\)</span>.</p>
<p>Additionally, we includ a <em>loss risk chance constraint</em> of the form <span class="math notranslate nohighlight">\(\mathbb{P} ( z^\top x \leq \alpha) \leq \beta\)</span>, which we learned in Lecture 8 can be rewritten explicitly.</p>
<p>Write the full portfolio optimization problem as a SOCP and solve it with Pyomo for a general <span class="math notranslate nohighlight">\(n\)</span>, <span class="math notranslate nohighlight">\(\alpha \in [0, 1]\)</span>, <span class="math notranslate nohighlight">\(\beta \in [0, 1/2]\)</span>, vector <span class="math notranslate nohighlight">\(\bar{z}\)</span>, and semi-definite positive covariance matrix <span class="math notranslate nohighlight">\(\Sigma\)</span>.</p>
<p>A chance constraint of the form <span class="math notranslate nohighlight">\(\mathbb{P} ( z^\top x \leq \alpha) \leq \beta\)</span> rewrites as</p>
<div class="math notranslate nohighlight">
\[
  \bar{z}^\top x \geq \Phi^{-1}(1-\beta) \| \Sigma^{1/2} x \|_2 + \alpha,
\]</div>
<p>and is a convex if <span class="math notranslate nohighlight">\(\beta \leq 1/2\)</span>. The portfolio optimization problem can then be formulated as a SOCP as</p>
<p>\begin{align*}
\max ; &amp; \bar{z}^\top x\
\quad \text{ s.t. } &amp; \Phi^{-1}(1-\beta) | \Sigma^{1/2} x |<em>2 \leq \bar{z}^\top x - \alpha,\
&amp; \sum</em>{i=1}^n x_i = 1, \
&amp;  x \geq 0.
\end{align*}</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># we import the inverse CDF or quantile function for the standard normal norm.ppf() from scipy.stats</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">norm</span>

<span class="c1"># We set our risk threshold and risk levels (sometimes you may get an infeasible problem if the chance</span>
<span class="c1"># constraint becomes too tight!)</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">beta</span> <span class="o">=</span> <span class="mf">0.3</span>

<span class="c1"># We specify the number of assets, their expected returns and their covariance matrix. </span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">z_mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.05</span><span class="p">,</span> <span class="mf">1.15</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">])</span>
<span class="n">z_cov</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">]])</span>

<span class="c1"># Check how dramatically the optimal solution changes if we assume i.i.d. deviations for the returns.</span>
<span class="c1"># z_cov = np.array([[1, 0, 0], [0, 1, 0], [0, 0, 1]])</span>

<span class="c1"># If you want to change covariance matriix, make sure you input a semi-definite positive one.</span>
<span class="c1"># The easiest way to generate a random covariance matrix is first generating a random n x n matrix A </span>
<span class="c1"># and then taking the matrix A^T A (which is always semi-definite positive)</span>
<span class="c1"># N = 3</span>
<span class="c1"># A = np.random.rand(N, N)</span>
<span class="c1"># z_cov = A.T @ A</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">ConcreteModel</span><span class="p">(</span><span class="s2">&quot;Portfolio problem&quot;</span><span class="p">)</span>

<span class="n">model</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Var</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">domain</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">NonNegativeReals</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Var</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">Reals</span><span class="p">)</span>

<span class="nd">@model</span><span class="o">.</span><span class="n">Objective</span><span class="p">(</span><span class="n">sense</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">maximize</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">objective</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">z_mean</span> <span class="o">@</span> <span class="n">model</span><span class="o">.</span><span class="n">x</span>

<span class="nd">@model</span><span class="o">.</span><span class="n">Constraint</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">chance_constraint</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">norm</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">beta</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">x</span> <span class="o">@</span> <span class="p">(</span><span class="n">z_cov</span> <span class="o">@</span> <span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">))</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">z_mean</span> <span class="o">@</span> <span class="n">model</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">alpha</span><span class="p">)</span>

<span class="nd">@model</span><span class="o">.</span><span class="n">Constraint</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">total_assets</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">SolverFactory</span><span class="p">(</span><span class="s2">&quot;cplex_direct&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">({</span><span class="sa">f</span><span class="s2">&quot;$x_</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">$&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)})</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Solution&quot;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;**Solver status:** *</span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">termination_condition</span><span class="si">}</span><span class="s2">*&quot;</span><span class="p">))</span>
<span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;**Solution:** $x_1 = </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">$,  \$x_2 = </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">$,  $x_3 = </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">$&quot;</span><span class="p">))</span>
<span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;**Maximizes objective value to:** $</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">objective</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">$&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Solution</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>$x_1$</th>
      <td>0.182182</td>
    </tr>
    <tr>
      <th>$x_2$</th>
      <td>0.567559</td>
    </tr>
    <tr>
      <th>$x_3$</th>
      <td>0.250258</td>
    </tr>
  </tbody>
</table>
</div></div><p><strong>Solver status:</strong> <em>ok, optimal</em></p>
<p><strong>Solution:</strong> $x_1 = 0.182$,  $x_2 = 0.568$,  $x_3 = 0.250$</p>
<p><strong>Maximizes objective value to:</strong> $1.17$</p>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="exercise-2-portfolio-selection-with-cardinality-constrained-uncertainty-set">
<h1>Exercise 2: Portfolio selection with cardinality-constrained uncertainty set<a class="headerlink" href="#exercise-2-portfolio-selection-with-cardinality-constrained-uncertainty-set" title="Permalink to this headline">#</a></h1>
<p>Remember that, if all the return rates <span class="math notranslate nohighlight">\(\xi_i\)</span> for every asset <span class="math notranslate nohighlight">\(i\)</span> are known, the classical deterministic portfolio selection problem can be formulated as the following LP:
\begin{align*}
\max ; &amp; \xi^T {x} \
\quad \text{ s.t. } &amp; \sum_{i=1}^n x_i = C, \
&amp; x_i \geq 0, \quad i=1,\dots,n.
\end{align*}
We consider now the following variant, where each asset has a rate that varies in a specific interval.</p>
<p>A broker must allocate his capital among <span class="math notranslate nohighlight">\(n=100\)</span> assets in order to maximize his return. She has established that the return <span class="math notranslate nohighlight">\(\xi_i\)</span> of asset <span class="math notranslate nohighlight">\(i\)</span> belongs to the interval <span class="math notranslate nohighlight">\([r_i − s_i, r_i + s_i]\)</span> centered around the value <span class="math notranslate nohighlight">\(r_i = 1.15 + i \cdot (0.05/100)\)</span> and varying in both direction by at most <span class="math notranslate nohighlight">\(s_i = (0.05/300) \cdot \sqrt{45300 \cdot i}\)</span>.</p>
<p>Obviously, in the deterministic problem where all returns are equal to their point forecasts, i.e., <span class="math notranslate nohighlight">\(\xi_i = r_i\)</span> it is optimal to invest everything in the asset with the greatest nominal return, that is asset <span class="math notranslate nohighlight">\(100\)</span>. Similarly, in the conservative approach where all returns equal their worst-case values, it is optimal to invest everything in the asset with the greatest worst-case return, which is asset 1.</p>
<p>We consider now an alternative robust approach that uses cardinality-constrained uncertainty set. More specifically, we assume that at most <span class="math notranslate nohighlight">\(\Gamma\)</span> assets can vary from their nominal return rates.</p>
<p>(a) Find the tractable robust counterpart of this cardinality-constrainted uncertainty set or budget uncertainty set. Then, assuming that <span class="math notranslate nohighlight">\(\Gamma=20\)</span> and <span class="math notranslate nohighlight">\(C=1000\)</span>, implement the model in Pyomo and solve it.</p>
<p><em>Hint: you may want to “move” the uncertain parameters <span class="math notranslate nohighlight">\(\xi_i\)</span>’s from the objective function into a constraint, recovering a setting similar to the one presented in the lecture notes for cardinality-constrainted uncertainty set. We can do so by equivalently rewrite the portfolio selection problem as</em>
\begin{align*}
\max ; &amp; w \
\quad \text{ s.t. } &amp; \sum_{i=1}^n x_i = C, \
&amp; \xi^T {x} \geq w,\
&amp; w \geq 0,\
&amp; x_i \geq 0, \quad i=1,\dots,n.
\end{align*}
<em>Note that the inequality has a different sign than the one in the lectures notes, hence the argument there has to be adopted accordingly</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">portfolio</span><span class="p">(</span><span class="n">Gamma</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">print_flag</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">ConcreteModel</span><span class="p">()</span>

    <span class="n">model</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>

    <span class="n">model</span><span class="o">.</span><span class="n">indices</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="n">initialize</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>

    <span class="n">model</span><span class="o">.</span><span class="n">capital</span> <span class="o">=</span> <span class="mi">1000</span>
    <span class="n">model</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Var</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">indices</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">NonNegativeReals</span><span class="p">)</span> 
    <span class="n">model</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Var</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">NonNegativeReals</span><span class="p">)</span> 

    <span class="nd">@model</span><span class="o">.</span><span class="n">Constraint</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">budget</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">pyo</span><span class="o">.</span><span class="n">summation</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="n">model</span><span class="o">.</span><span class="n">capital</span>

    <span class="c1"># introduce variable for tractable robust counterpart</span>
    <span class="n">model</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Var</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">indices</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">NonNegativeReals</span><span class="p">)</span>
    <span class="n">model</span><span class="o">.</span><span class="n">l</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Var</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">NonNegativeReals</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deltareturn</span><span class="p">(</span><span class="n">j</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="mf">0.05</span><span class="o">/</span><span class="mi">300</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">45300</span> <span class="o">*</span> <span class="n">j</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">nominalreturn</span><span class="p">(</span><span class="n">j</span><span class="p">):</span>
        <span class="k">return</span> <span class="mf">1.15</span> <span class="o">+</span> <span class="n">j</span> <span class="o">*</span> <span class="p">(</span><span class="mf">0.05</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>

    <span class="c1"># tractable robust counterpart, two for every initial constraints with varying parameter</span>
    <span class="nd">@model</span><span class="o">.</span><span class="n">Constraint</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">indices</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">lower</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">deltareturn</span><span class="p">(</span><span class="n">j</span><span class="p">)</span> <span class="o">-</span> <span class="n">model</span><span class="o">.</span><span class="n">l</span>
    
    <span class="nd">@model</span><span class="o">.</span><span class="n">Constraint</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">indices</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">upper</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">deltareturn</span><span class="p">(</span><span class="n">j</span><span class="p">)</span> <span class="o">-</span> <span class="n">model</span><span class="o">.</span><span class="n">l</span>
    
    <span class="nd">@model</span><span class="o">.</span><span class="n">Constraint</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">cardinality_constraint</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
        <span class="k">return</span> <span class="o">-</span><span class="nb">sum</span><span class="p">([</span><span class="n">nominalreturn</span><span class="p">(</span><span class="n">j</span><span class="p">)</span><span class="o">*</span><span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">indices</span><span class="p">])</span> <span class="o">+</span> <span class="n">model</span><span class="o">.</span><span class="n">l</span> <span class="o">*</span> <span class="n">Gamma</span> <span class="o">+</span> <span class="n">pyo</span><span class="o">.</span><span class="n">summation</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">z</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="n">model</span><span class="o">.</span><span class="n">w</span>

    <span class="nd">@model</span><span class="o">.</span><span class="n">Objective</span><span class="p">(</span><span class="n">sense</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">maximize</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">profit</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">w</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">SolverFactory</span><span class="p">(</span><span class="s1">&#39;cbc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">print_flag</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;**Solver status:** *</span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">termination_condition</span><span class="si">}</span><span class="s2">*&quot;</span><span class="p">))</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;**Solution:**&quot;</span><span class="p">))</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">({</span><span class="sa">f</span><span class="s2">&quot;$x_</span><span class="si">{</span> <span class="p">{</span><span class="n">i</span><span class="p">}</span> <span class="si">}</span><span class="s2">$&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="si">:</span><span class="s2">0.3f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">indices</span><span class="p">})</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Solution&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">to_markdown</span><span class="p">()))</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;**Maximizes objective value to:** $</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">profit</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">$€&quot;</span><span class="p">))</span>
        
    <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">profit</span><span class="p">(),</span> <span class="p">[</span><span class="nb">round</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">indices</span><span class="p">]</span>

<span class="n">profit</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">portfolio</span><span class="p">(</span><span class="n">Gamma</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">print_flag</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p><strong>Solver status:</strong> <em>ok, optimal</em></p>
<p><strong>Solution:</strong></p>
<p>|           |   Solution |
|:----------|-----------:|
| $x_{1}$   |     53.794 |
| $x_{2}$   |     38.038 |
| $x_{3}$   |     31.058 |
| $x_{4}$   |     26.897 |
| $x_{5}$   |     24.057 |
| $x_{6}$   |     21.961 |
| $x_{7}$   |     20.332 |
| $x_{8}$   |     19.019 |
| $x_{9}$   |     17.931 |
| $x_{10}$  |     17.011 |
| $x_{11}$  |     16.219 |
| $x_{12}$  |     15.529 |
| $x_{13}$  |     14.92  |
| $x_{14}$  |     14.377 |
| $x_{15}$  |     13.889 |
| $x_{16}$  |     13.448 |
| $x_{17}$  |     13.047 |
| $x_{18}$  |     12.679 |
| $x_{19}$  |     12.341 |
| $x_{20}$  |     12.029 |
| $x_{21}$  |     11.739 |
| $x_{22}$  |     11.469 |
| $x_{23}$  |     11.217 |
| $x_{24}$  |     10.981 |
| $x_{25}$  |     10.759 |
| $x_{26}$  |     10.55  |
| $x_{27}$  |     10.353 |
| $x_{28}$  |     10.166 |
| $x_{29}$  |      9.989 |
| $x_{30}$  |      9.821 |
| $x_{31}$  |      9.662 |
| $x_{32}$  |      9.509 |
| $x_{33}$  |      9.364 |
| $x_{34}$  |      9.226 |
| $x_{35}$  |      9.093 |
| $x_{36}$  |      8.966 |
| $x_{37}$  |      8.844 |
| $x_{38}$  |      8.726 |
| $x_{39}$  |      8.614 |
| $x_{40}$  |      8.506 |
| $x_{41}$  |      8.401 |
| $x_{42}$  |      8.301 |
| $x_{43}$  |      8.203 |
| $x_{44}$  |      8.11  |
| $x_{45}$  |      8.019 |
| $x_{46}$  |      7.931 |
| $x_{47}$  |      7.847 |
| $x_{48}$  |      7.764 |
| $x_{49}$  |      7.685 |
| $x_{50}$  |      7.608 |
| $x_{51}$  |      7.533 |
| $x_{52}$  |      7.46  |
| $x_{53}$  |      7.389 |
| $x_{54}$  |      7.32  |
| $x_{55}$  |      7.254 |
| $x_{56}$  |      7.188 |
| $x_{57}$  |      7.125 |
| $x_{58}$  |      7.063 |
| $x_{59}$  |      7.003 |
| $x_{60}$  |      6.945 |
| $x_{61}$  |      6.888 |
| $x_{62}$  |      6.832 |
| $x_{63}$  |      6.777 |
| $x_{64}$  |      6.724 |
| $x_{65}$  |      6.672 |
| $x_{66}$  |      6.622 |
| $x_{67}$  |      6.572 |
| $x_{68}$  |      6.523 |
| $x_{69}$  |      6.476 |
| $x_{70}$  |      6.43  |
| $x_{71}$  |      6.384 |
| $x_{72}$  |      6.34  |
| $x_{73}$  |      6.296 |
| $x_{74}$  |      6.253 |
| $x_{75}$  |      6.212 |
| $x_{76}$  |      6.171 |
| $x_{77}$  |      6.13  |
| $x_{78}$  |      6.091 |
| $x_{79}$  |      6.052 |
| $x_{80}$  |      6.014 |
| $x_{81}$  |      5.977 |
| $x_{82}$  |      5.94  |
| $x_{83}$  |      5.905 |
| $x_{84}$  |      5.869 |
| $x_{85}$  |      5.835 |
| $x_{86}$  |      5.801 |
| $x_{87}$  |      5.767 |
| $x_{88}$  |      5.734 |
| $x_{89}$  |      5.702 |
| $x_{90}$  |      5.67  |
| $x_{91}$  |      5.639 |
| $x_{92}$  |      5.608 |
| $x_{93}$  |      5.578 |
| $x_{94}$  |      5.548 |
| $x_{95}$  |      5.519 |
| $x_{96}$  |      5.49  |
| $x_{97}$  |      5.462 |
| $x_{98}$  |      5.434 |
| $x_{99}$  |      5.406 |
| $x_{100}$ |      5.379 |</p>
<p><strong>Maximizes objective value to:</strong> $1129.90$€</p>
</div>
</div>
<p>We now solve the same problem by varying <span class="math notranslate nohighlight">\(\Gamma\)</span> from <span class="math notranslate nohighlight">\(1\)</span> to <span class="math notranslate nohighlight">\(50\)</span> and observe how the optimal decision <span class="math notranslate nohighlight">\(x^*\)</span> changes accordingly.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">gamma</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">51</span><span class="p">):</span>
    <span class="n">profit</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">portfolio</span><span class="p">(</span><span class="n">Gamma</span><span class="o">=</span><span class="n">gamma</span><span class="p">,</span> <span class="n">print_flag</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;$\Gamma=</span><span class="si">{</span><span class="n">gamma</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">$&quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;**Profit:** </span><span class="si">{</span><span class="n">profit</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">€&quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;**Optimal solution:** $</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">$&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p>$\Gamma=0$</p>
<p><strong>Profit:</strong> 1200.00€</p>
<p><strong>Optimal solution:</strong> $[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1000.0]$</p>
<p>$\Gamma=1$</p>
<p><strong>Profit:</strong> 1182.02€</p>
<p><strong>Optimal solution:</strong> $[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 31.106, 30.869, 30.638, 30.412, 30.191, 29.974, 29.762, 29.555, 29.352, 29.153, 28.958, 28.767, 28.579, 28.395, 28.215, 28.038, 27.865, 27.694, 27.527, 27.362, 27.201, 27.042, 26.887, 26.733, 26.583, 26.435, 26.289, 26.146, 26.005, 25.866, 25.73, 25.595, 25.463, 25.333, 25.204, 25.078]$</p>
<p>$\Gamma=2$</p>
<p><strong>Profit:</strong> 1174.89€</p>
<p><strong>Optimal solution:</strong> $[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 23.654, 23.421, 23.195, 22.975, 22.761, 22.554, 22.351, 22.154, 21.963, 21.776, 21.593, 21.416, 21.242, 21.073, 20.908, 20.746, 20.589, 20.434, 20.283, 20.136, 19.992, 19.85, 19.712, 19.577, 19.444, 19.314, 19.186, 19.061, 18.939, 18.818, 18.7, 18.585, 18.471, 18.359, 18.25, 18.142, 18.036, 17.932, 17.83, 17.73, 17.631, 17.534, 17.438, 17.344, 17.252, 17.161, 17.071, 16.983, 16.896, 16.81, 16.726]$</p>
<p>$\Gamma=3$</p>
<p><strong>Profit:</strong> 1169.61€</p>
<p><strong>Optimal solution:</strong> $[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 21.138, 20.879, 20.629, 20.387, 20.154, 19.929, 19.711, 19.5, 19.296, 19.098, 18.906, 18.72, 18.539, 18.364, 18.193, 18.027, 17.865, 17.707, 17.554, 17.405, 17.259, 17.117, 16.978, 16.843, 16.711, 16.582, 16.456, 16.333, 16.212, 16.094, 15.979, 15.866, 15.755, 15.647, 15.541, 15.437, 15.335, 15.235, 15.137, 15.041, 14.947, 14.854, 14.763, 14.674, 14.587, 14.501, 14.416, 14.333, 14.251, 14.171, 14.092, 14.014, 13.938, 13.863, 13.789, 13.716, 13.645, 13.574, 13.505, 13.436, 13.369]$</p>
<p>$\Gamma=4$</p>
<p><strong>Profit:</strong> 1165.30€</p>
<p><strong>Optimal solution:</strong> $[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 19.946, 19.632, 19.332, 19.046, 18.772, 18.509, 18.257, 18.016, 17.783, 17.559, 17.344, 17.136, 16.936, 16.742, 16.555, 16.374, 16.199, 16.03, 15.865, 15.706, 15.551, 15.401, 15.255, 15.113, 14.975, 14.84, 14.71, 14.582, 14.458, 14.337, 14.219, 14.104, 13.992, 13.882, 13.775, 13.67, 13.568, 13.468, 13.37, 13.274, 13.18, 13.088, 12.998, 12.91, 12.824, 12.739, 12.656, 12.575, 12.495, 12.416, 12.34, 12.264, 12.19, 12.117, 12.046, 11.975, 11.906, 11.839, 11.772, 11.706, 11.642, 11.578, 11.516, 11.455, 11.394, 11.335, 11.276, 11.218, 11.162, 11.106]$</p>
<p>$\Gamma=5$</p>
<p><strong>Profit:</strong> 1161.64€</p>
<p><strong>Optimal solution:</strong> $[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 19.714, 19.315, 18.94, 18.586, 18.251, 17.934, 17.632, 17.346, 17.073, 16.812, 16.563, 16.325, 16.096, 15.877, 15.667, 15.465, 15.27, 15.083, 14.902, 14.728, 14.56, 14.397, 14.24, 14.087, 13.94, 13.797, 13.658, 13.524, 13.393, 13.266, 13.142, 13.022, 12.906, 12.792, 12.681, 12.573, 12.468, 12.365, 12.265, 12.168, 12.072, 11.979, 11.888, 11.799, 11.712, 11.627, 11.543, 11.462, 11.382, 11.304, 11.227, 11.152, 11.078, 11.006, 10.935, 10.866, 10.798, 10.731, 10.665, 10.601, 10.537, 10.475, 10.414, 10.354, 10.295, 10.237, 10.18, 10.124, 10.069, 10.015, 9.961, 9.909, 9.857, 9.806, 9.756, 9.706, 9.658]$</p>
<p>$\Gamma=6$</p>
<p><strong>Profit:</strong> 1158.44€</p>
<p><strong>Optimal solution:</strong> $[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 20.337, 19.764, 19.237, 18.75, 18.298, 17.878, 17.485, 17.116, 16.771, 16.445, 16.138, 15.847, 15.571, 15.309, 15.06, 14.823, 14.597, 14.381, 14.174, 13.976, 13.785, 13.603, 13.427, 13.258, 13.096, 12.939, 12.787, 12.641, 12.5, 12.363, 12.231, 12.103, 11.979, 11.859, 11.742, 11.628, 11.518, 11.411, 11.307, 11.205, 11.107, 11.01, 10.917, 10.825, 10.736, 10.649, 10.565, 10.482, 10.401, 10.322, 10.244, 10.169, 10.095, 10.022, 9.952, 9.882, 9.814, 9.748, 9.683, 9.619, 9.556, 9.495, 9.434, 9.375, 9.317, 9.26, 9.204, 9.149, 9.095, 9.042, 8.99, 8.939, 8.888, 8.839, 8.79, 8.742, 8.695, 8.649, 8.603, 8.558, 8.514, 8.47, 8.428, 8.385]$</p>
<p>$\Gamma=7$</p>
<p><strong>Profit:</strong> 1155.62€</p>
<p><strong>Optimal solution:</strong> $[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 21.759, 20.905, 20.145, 19.462, 18.844, 18.281, 17.766, 17.292, 16.854, 16.448, 16.07, 15.717, 15.386, 15.075, 14.782, 14.506, 14.244, 13.997, 13.761, 13.538, 13.324, 13.121, 12.927, 12.741, 12.562, 12.391, 12.227, 12.07, 11.918, 11.772, 11.631, 11.494, 11.363, 11.236, 11.113, 10.994, 10.879, 10.768, 10.66, 10.555, 10.453, 10.353, 10.257, 10.163, 10.072, 9.984, 9.897, 9.813, 9.731, 9.651, 9.573, 9.496, 9.422, 9.349, 9.278, 9.208, 9.14, 9.074, 9.009, 8.945, 8.883, 8.822, 8.762, 8.703, 8.646, 8.59, 8.534, 8.48, 8.427, 8.375, 8.324, 8.273, 8.224, 8.176, 8.128, 8.081, 8.035, 7.99, 7.945, 7.901, 7.858, 7.816, 7.774, 7.733, 7.693, 7.653, 7.614, 7.575, 7.537]$</p>
<p>$\Gamma=8$</p>
<p><strong>Profit:</strong> 1153.11€</p>
<p><strong>Optimal solution:</strong> $[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 25.282, 23.65, 22.297, 21.153, 20.168, 19.31, 18.552, 17.877, 17.271, 16.723, 16.223, 15.766, 15.346, 14.957, 14.597, 14.261, 13.948, 13.654, 13.378, 13.118, 12.873, 12.641, 12.421, 12.213, 12.014, 11.825, 11.644, 11.472, 11.307, 11.149, 10.997, 10.851, 10.711, 10.576, 10.447, 10.322, 10.201, 10.084, 9.972, 9.863, 9.757, 9.655, 9.556, 9.46, 9.367, 9.276, 9.188, 9.103, 9.02, 8.939, 8.86, 8.783, 8.708, 8.636, 8.565, 8.495, 8.427, 8.361, 8.297, 8.234, 8.172, 8.112, 8.053, 7.995, 7.939, 7.883, 7.829, 7.776, 7.724, 7.673, 7.623, 7.574, 7.526, 7.479, 7.432, 7.387, 7.342, 7.298, 7.255, 7.213, 7.171, 7.131, 7.09, 7.051, 7.012, 6.974, 6.936, 6.899, 6.863, 6.827, 6.792, 6.757, 6.723, 6.689]$</p>
<p>$\Gamma=9$</p>
<p><strong>Profit:</strong> 1150.91€</p>
<p><strong>Optimal solution:</strong> $[0.0, 40.2, 32.823, 28.426, 25.425, 23.21, 21.488, 20.1, 18.951, 17.978, 17.141, 16.412, 15.768, 15.194, 14.679, 14.213, 13.789, 13.4, 13.043, 12.712, 12.406, 12.121, 11.854, 11.605, 11.37, 11.15, 10.941, 10.744, 10.557, 10.38, 10.211, 10.05, 9.897, 9.75, 9.61, 9.475, 9.346, 9.223, 9.104, 8.989, 8.879, 8.772, 8.67, 8.571, 8.475, 8.382, 8.293, 8.206, 8.122, 8.04, 7.961, 7.884, 7.809, 7.737, 7.666, 7.597, 7.53, 7.465, 7.401, 7.34, 7.279, 7.22, 7.163, 7.106, 7.052, 6.998, 6.946, 6.894, 6.844, 6.795, 6.747, 6.7, 6.654, 6.609, 6.565, 6.521, 6.479, 6.437, 6.396, 6.356, 6.317, 6.278, 6.24, 6.203, 6.166, 6.13, 6.095, 6.06, 6.026, 5.993, 5.96, 5.927, 5.895, 5.864, 5.833, 5.802, 5.772, 5.743, 5.714, 5.685]$</p>
<p>$\Gamma=10$</p>
<p><strong>Profit:</strong> 1148.98€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=11$</p>
<p><strong>Profit:</strong> 1147.07€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=12$</p>
<p><strong>Profit:</strong> 1145.16€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=13$</p>
<p><strong>Profit:</strong> 1143.25€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=14$</p>
<p><strong>Profit:</strong> 1141.35€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=15$</p>
<p><strong>Profit:</strong> 1139.44€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=16$</p>
<p><strong>Profit:</strong> 1137.53€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=17$</p>
<p><strong>Profit:</strong> 1135.62€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=18$</p>
<p><strong>Profit:</strong> 1133.71€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=19$</p>
<p><strong>Profit:</strong> 1131.80€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=20$</p>
<p><strong>Profit:</strong> 1129.90€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=21$</p>
<p><strong>Profit:</strong> 1127.99€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=22$</p>
<p><strong>Profit:</strong> 1126.08€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=23$</p>
<p><strong>Profit:</strong> 1124.17€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=24$</p>
<p><strong>Profit:</strong> 1122.26€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=25$</p>
<p><strong>Profit:</strong> 1120.35€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=26$</p>
<p><strong>Profit:</strong> 1118.45€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=27$</p>
<p><strong>Profit:</strong> 1116.54€</p>
<p><strong>Optimal solution:</strong> $[53.794, 38.038, 31.058, 26.897, 24.057, 21.961, 20.332, 19.019, 17.931, 17.011, 16.219, 15.529, 14.92, 14.377, 13.889, 13.448, 13.047, 12.679, 12.341, 12.029, 11.739, 11.469, 11.217, 10.981, 10.759, 10.55, 10.353, 10.166, 9.989, 9.821, 9.662, 9.509, 9.364, 9.226, 9.093, 8.966, 8.844, 8.726, 8.614, 8.506, 8.401, 8.301, 8.203, 8.11, 8.019, 7.931, 7.847, 7.764, 7.685, 7.608, 7.533, 7.46, 7.389, 7.32, 7.254, 7.188, 7.125, 7.063, 7.003, 6.945, 6.888, 6.832, 6.777, 6.724, 6.672, 6.622, 6.572, 6.523, 6.476, 6.43, 6.384, 6.34, 6.296, 6.253, 6.212, 6.171, 6.13, 6.091, 6.052, 6.014, 5.977, 5.94, 5.905, 5.869, 5.835, 5.801, 5.767, 5.734, 5.702, 5.67, 5.639, 5.608, 5.578, 5.548, 5.519, 5.49, 5.462, 5.434, 5.406, 5.379]$</p>
<p>$\Gamma=28$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=29$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=30$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=31$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=32$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=33$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=34$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=35$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=36$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=37$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=38$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=39$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=40$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=41$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=42$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=43$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=44$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=45$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=46$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=47$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=48$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=49$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
<p>$\Gamma=50$</p>
<p><strong>Profit:</strong> 1115.03€</p>
<p><strong>Optimal solution:</strong> $[1000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$</p>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">portfolio</span><span class="p">():</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">ConcreteModel</span><span class="p">()</span>

    <span class="n">model</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="k">def</span> <span class="nf">indices_rule</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">model</span><span class="o">.</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">model</span><span class="o">.</span><span class="n">indices</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="n">initialize</span><span class="o">=</span><span class="n">indices_rule</span><span class="p">)</span>

    <span class="n">model</span><span class="o">.</span><span class="n">capital</span> <span class="o">=</span> <span class="mi">1000</span>
    <span class="n">model</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Var</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">indices</span><span class="p">,</span> <span class="n">within</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">NonNegativeReals</span><span class="p">)</span> 
    <span class="n">model</span><span class="o">.</span><span class="n">xtilde</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Var</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">indices</span><span class="p">,</span> <span class="n">within</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">NonNegativeReals</span><span class="p">)</span> 
    <span class="n">model</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Var</span><span class="p">(</span><span class="n">within</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">NonNegativeReals</span><span class="p">)</span> 

    <span class="n">model</span><span class="o">.</span><span class="n">budget</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Constraint</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">summation</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span>  <span class="n">model</span><span class="o">.</span><span class="n">xtilde</span> <span class="o">==</span> <span class="n">model</span><span class="o">.</span><span class="n">capital</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deltareturn</span><span class="p">(</span><span class="n">j</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="mf">0.05</span><span class="o">/</span><span class="mi">300</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">45300</span> <span class="o">*</span> <span class="n">j</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">nominalreturn</span><span class="p">(</span><span class="n">j</span><span class="p">):</span>
        <span class="k">return</span> <span class="mf">1.15</span> <span class="o">+</span> <span class="n">j</span> <span class="o">*</span> <span class="p">(</span><span class="mf">0.05</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">total_return</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">w</span>
    
    <span class="n">model</span><span class="o">.</span><span class="n">profit</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Objective</span><span class="p">(</span><span class="n">rule</span><span class="o">=</span><span class="n">total_return</span><span class="p">,</span> <span class="n">sense</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">maximize</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">cbc_solver</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">printflag</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;**Solver status:** *</span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">termination_condition</span><span class="si">}</span><span class="s2">*&quot;</span><span class="p">))</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;**Solution:**&quot;</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">indices</span><span class="p">:</span>
            <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; $x_</span><span class="si">{</span> <span class="p">{</span><span class="n">i</span><span class="p">}</span> <span class="si">}</span><span class="s2"> = </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">$&quot;</span><span class="p">))</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;**Maximizes objective value to:** $</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">profit</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">$€&quot;</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">profit</span><span class="p">(),</span> <span class="p">[</span><span class="nb">round</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">indices</span><span class="p">]</span>

<span class="n">profit</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">portfolio</span><span class="p">(</span><span class="n">Gamma</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">printflag</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [25],</span> in <span class="ni">&lt;cell line: 39&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">     </span><span class="mi">36</span>         <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;**Maximizes objective value to:** $</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">profit</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">$€&quot;</span><span class="p">))</span>
<span class="g g-Whitespace">     </span><span class="mi">37</span>     <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">profit</span><span class="p">(),</span> <span class="p">[</span><span class="nb">round</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">indices</span><span class="p">]</span>
<span class="ne">---&gt; </span><span class="mi">39</span> <span class="n">profit</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">portfolio</span><span class="p">(</span><span class="n">Gamma</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">printflag</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="ne">TypeError</span>: portfolio() got an unexpected keyword argument &#39;Gamma&#39;
</pre></div>
</div>
</div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks/05"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="ols-regression.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Ordinary Least Squares (OLS) Regression</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="refinery-production.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Refinery Production and Shadow Pricing</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By The MO Book Group<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>